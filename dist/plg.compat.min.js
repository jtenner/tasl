(function(a,b){'object'==typeof exports&&'object'==typeof module?module.exports=b(require('pegjs'),function(){try{return require('fs')}catch(a){}}()):'function'==typeof define&&define.amd?define(['pegjs','fs'],b):'object'==typeof exports?exports.plg=b(require('pegjs'),function(){try{return require('fs')}catch(a){}}()):a.plg=b(a.pegjs,a.fs)})(this,function(a,b){return function(a){function b(d){if(c[d])return c[d].exports;var e=c[d]={i:d,l:!1,exports:{}};return a[d].call(e.exports,e,e.exports,b),e.l=!0,e.exports}var c={};return b.m=a,b.c=c,b.d=function(a,c,d){b.o(a,c)||Object.defineProperty(a,c,{configurable:!1,enumerable:!0,get:d})},b.n=function(a){var c=a&&a.__esModule?function(){return a['default']}:function(){return a};return b.d(c,'a',c),c},b.o=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)},b.p='',b(b.s=15)}([function(a){'use strict';a.exports=function(a){return{Type:'Rule',Name:a,generate:function(a){return{value:' '+a+':'+this.Name,toString:function(){return this.value+' _'}}}}}},function(a){'use strict';a.exports=function(){for(var a=arguments.length,b=Array(a),c=0;c<a;c++)b[c]=arguments[c];return{type:'Or',generate:function(a,c,d){return{value:' '+a+':('+b.map(function(b,e){return b.generate(a+e,c,d).value}).join(' / ')+')',toString:function(){return this.value+' _'}}}}}},function(a,b,c){'use strict';a.exports=c(0)('Expression')},function(a){'use strict';a.exports=function(a){return{Type:'Optional',generate:function(b,c,d){return{value:' '+b+':('+a.generate(b+'_',c,d).value+')?',toString:function(){return this.value+' _'}}}}}},function(a,b,c){'use strict';a.exports=c(0)('ExpressionList')},function(a,b,c){'use strict';a.exports=c(0)('Identifier')},function(a,b,c){'use strict';a.exports=c(0)('StatementList')},function(a){'use strict';var b=function(){function a(a,b){var c,d=[],e=!0,f=!1;try{for(var g,h=a[Symbol.iterator]();!(e=(g=h.next()).done)&&(d.push(g.value),!(b&&d.length===b));e=!0);}catch(a){f=!0,c=a}finally{try{!e&&h['return']&&h['return']()}finally{if(f)throw c}}return d}return function(b,c){if(Array.isArray(b))return b;if(Symbol.iterator in Object(b))return a(b,c);throw new TypeError('Invalid attempt to destructure non-iterable instance')}}();a.exports=function(a,c){var d,e,f,g=!0,h=!1;try{for(var i,j=a[Symbol.iterator]();!(g=(i=j.next()).done);g=!0){var k=i.value,l=k.evaluate(c),m=b(l,2);if(d=m[0],e=m[1],'return'===d)return[d,e]}}catch(a){h=!0,f=a}finally{try{!g&&j.return&&j.return()}finally{if(h)throw f}}return[null,e]}},function(a){'use strict';a.exports=function(a){var b=1<arguments.length&&arguments[1]!==void 0&&arguments[1];return{Type:'Literal',Value:a,Insensitive:b,generate:function(a){return{value:' '+a+':"'+this.Value.replace(/"/g,'\\"')+'"'+(this.Insensitive?'i':''),toString:function(){return this.value+' _'}}}}}},function(a){'use strict';a.exports={Type:'Next',generate:function(a,b){return{value:' '+a+':'+b,toString:function(){return this.value+' _'}}}}},function(a,b,c){'use strict';var d=c(0);a.exports=d('IdentifierList')},function(a,b,c){'use strict';a.exports=c(0)('Statement')},function(a){'use strict';a.exports=function(a,b){var c,d,e=!0,f=!1;try{for(var g,h,i=a[Symbol.iterator]();!(e=(g=i.next()).done);e=!0)h=g.value,c=h.evaluate(b)}catch(a){f=!0,d=a}finally{try{!e&&i.return&&i.return()}finally{if(f)throw d}}return c}},function(a){'use strict';a.exports={type:'Current',generate:function(a,b,c){return{value:' '+a+':'+c,toString:function(){return this.value+' _'}}}}},function(a,b,c){'use strict';function d(a,b){if(!(a instanceof b))throw new TypeError('Cannot call a class as a function')}var e=function(){function a(a,b){var c,d=[],e=!0,f=!1;try{for(var g,h=a[Symbol.iterator]();!(e=(g=h.next()).done)&&(d.push(g.value),!(b&&d.length===b));e=!0);}catch(a){f=!0,c=a}finally{try{!e&&h['return']&&h['return']()}finally{if(f)throw c}}return d}return function(b,c){if(Array.isArray(b))return b;if(Symbol.iterator in Object(b))return a(b,c);throw new TypeError('Invalid attempt to destructure non-iterable instance')}}(),f=function(){function a(a,b){for(var c,d=0;d<b.length;d++)c=b[d],c.enumerable=c.enumerable||!1,c.configurable=!0,'value'in c&&(c.writable=!0),Object.defineProperty(a,c.key,c)}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),g=c(29);a.exports=function(){function a(b,e){d(this,a),this.grammar=b;try{c(30).writeFileSync('./grammar.pegjs',this.grammar,'utf8')}catch(a){}this.parser=g.generate(b),this.parser.handler=e}return f(a,[{key:'evaluate',value:function(a,b){return this.evaluateStatements(this.parser.parse(a),b)}},{key:'evaluateStatements',value:function(a,b){var c,d,f,g=!0,h=!1;try{for(var i,j=a[Symbol.iterator]();!(g=(i=j.next()).done);g=!0){var k=i.value,l=k.evaluate(b),m=e(l,2);if(c=m[0],d=m[1],'return'===c)return d}}catch(a){h=!0,f=a}finally{try{!g&&j.return&&j.return()}finally{if(h)throw f}}return d}},{key:'evaluateAsync',value:async function(a,b){return this.evaluateStatementsAsync(this.parser.parse(a),b)}},{key:'evaluateStatementsAsync',value:async function(a,b){var c,d,f,g=!0,h=!1;try{for(var i,j=a[Symbol.iterator]();!(g=(i=j.next()).done);g=!0){var k=i.value,l=await k.evaluate(b),m=e(l,2);if(c=m[0],d=m[1],'return'===c)return d}}catch(a){h=!0,f=a}finally{try{!g&&j.return&&j.return()}finally{if(h)throw f}}return d}}]),a}()},function(a,b,c){'use strict';a.exports={addArrayExpressions:c(16),addArrowFunctionExpressions:c(17),addAssignmentExpression:c(18),addBooleanExpressions:c(19),addGroupingExpressions:c(20),addIfStatements:c(21),addMathExpressions:c(22),addMemberExpressions:c(23),addObjectExpressions:c(24),addTransformExpressions:c(25),Current:c(13),evaluateExpressions:c(12),evaluateExpressionsAsync:c(26),evaluateStatements:c(7),evaluateStatementsAsync:c(27),Expression:c(2),ExpressionList:c(4),Grammar:c(28),Identifier:c(5),IdentifierList:c(10),Integer:c(32),Interpreter:c(14),Literal:c(8),Next:c(9),Optional:c(3),Or:c(1),RequiredWhitespace:c(33),Rule:c(0),Statement:c(11),StatementList:c(6)}},function(a,b,c){'use strict';function d(a){if(Array.isArray(a)){for(var b=0,c=Array(a.length);b<a.length;b++)c[b]=a[b];return c}return Array.from(a)}function e(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}var f=c(0),g=c(1),h=c(2);a.exports=function(a){return a.addList({Alias:'ArrayItemList',Rule:'ArrayItem',Terminator:','}).addCustom({Alias:'ArrayItem',Tokens:{value:g(f('ArraySpread'),f('ArrayRange'),f('ArrayItemExpression'))},Handler:function(a,b){var c=a.value;return c.evaluate(b)}}).addCustom({Alias:'ArraySpread',Tokens:{spreadOperator:'...',value:h},Handler:function(a,b){var c,d=a.value;return c={},e(c,Symbol.for('type'),'spread'),e(c,'value',d.evaluate(b)),c}}).addCustom({Alias:'ArrayRange',Tokens:{start:h,spread:'...',end:h},Handler:function(a,b){var c,d=a.start,f=a.end;d=d.evaluate(b),f=f.evaluate(b);for(var g=[],h=d;d<f?h<=f:h>=f;d<f?h++:h--)g.push(h);return c={},e(c,Symbol.for('type'),'spread'),e(c,'value',g),c}}).addCustom({Alias:'ArrayItemExpression',Tokens:{expression:h},Handler:function(a,b){var c,d=a.expression;return c={},e(c,Symbol.for('type'),'item'),e(c,'value',d.evaluate(b)),c}}).addExpression({Alias:'ArrayExpression',Tokens:{openBrace:'[',expressionList:f('ArrayItemList'),closeBrace:']'},Handler:function(a,b){var c,e=a.expressionList,f=[],g=!0,h=!1;try{for(var i,j=e[Symbol.iterator]();!(g=(i=j.next()).done);g=!0){var k=i.value,l=k.evaluate(b);'spread'===l[Symbol.for('type')]?f.push.apply(f,d(l.value)):f.push(l.value)}}catch(a){h=!0,c=a}finally{try{!g&&j.return&&j.return()}finally{if(h)throw c}}return f}})}},function(a,b,c){'use strict';var d=function(){function a(a,b){var c,d=[],e=!0,f=!1;try{for(var g,h=a[Symbol.iterator]();!(e=(g=h.next()).done)&&(d.push(g.value),!(b&&d.length===b));e=!0);}catch(a){f=!0,c=a}finally{try{!e&&h['return']&&h['return']()}finally{if(f)throw c}}return d}return function(b,c){if(Array.isArray(b))return b;if(Symbol.iterator in Object(b))return a(b,c);throw new TypeError('Invalid attempt to destructure non-iterable instance')}}(),e=c(0),f=c(1),h=c(5),i=c(10),j=c(3),k=c(6),l=c(2),g=c(7);a.exports=function(a){return a.addCustom({Alias:'ArrowFunctionCodeBlock',Tokens:{open_brace:'{',statements:k,close_brace:'}'},Handler:function(a,b){var c=a.statements;return g(c,b)}}).addBinaryExpression({Alias:'ArrowFunctionExpression',Left:f(h,e('FunctionParameters')),Operator:'=>',Right:f(e('ArrowFunctionCodeBlock'),l),Handler:function(a,b){var c=a.left,e=a.right,f=c?'Identifier'===c.Type?[c]:c:[];f.map(function(a){return a.value});var g=Object.getOwnPropertyNames(b).filter(function(a){return!f.includes(a)});return function(){for(var a=arguments.length,f=Array(a),h=0;h<a;h++)f[h]=arguments[h];for(var j=Object.assign({},b),k=0;k<c.length;k++)j[c[k].value]=f[k];var i=e.evaluate(j),l=d(i,2),m=l[0],n=l[1];return g.forEach(function(a){b[a]=j[a]}),n}}}).addCustom({Alias:'FunctionParameters',Tokens:{open:'(',parameters:j(i),close:')'},Handler:function(a){var b=a.parameters;return b}})}},function(a,b,c){'use strict';function d(a){if(Array.isArray(a)){for(var b=0,c=Array(a.length);b<a.length;b++)c[b]=a[b];return c}return Array.from(a)}var e=c(0);a.exports=function(a){return a.addBinaryExpression({Alias:'AssignmentExpression',Left:e('MemberExpression'),Operator:'=',Handler:function(a,b){for(var c=a.left,e=a.right,f=b,g=void 0,h=c.props,j=h.root,k=h.path,l=[j].concat(d(k||[])),m=new Error('Invalid member path: '+c.text+' at '+JSON.stringify(c.location)),n=0;n<l.length-2;n++)if(g='Identifier'===l[n].type?l[n].value:l[n].evaluate(b),f.hasOwnProperty(g))f=f[g];else throw m;var i=l[l.length-1];if(g='Identifier'===i.type?i.value:i.evaluate(b),f.hasOwnProperty(g))return f[g]=e.evaluate(b);throw m}})}},function(a){'use strict';a.exports=function(a){return a.addUnaryExpression({Alias:'Not',Operator:'!',Handler:function(a,b){var c=a.expression;return!c.evaluate(b)}}).addExpression({Alias:'True',Tokens:{value:'true'},Handler:function(){return!0}}).addExpression({Alias:'False',Tokens:{value:'false'},Handler:function(){return!1}}).reserve('true','false')}},function(a,b,c){'use strict';var d=c(4);a.exports=function(a){return a.addExpression({Alias:'Grouping',Tokens:{open:'(',expressions:d,close:')'},Handler:function(a,b){var c=a.expressions;return evaluateExpressions(c,b)}})}},function(a,b,c){'use strict';var d=c(0),e=c(2),f=c(6),h=c(1),g=c(7),i=c(3),j=c(11);a.exports=function(a){return a.addStatement({Alias:'IfStatement',Tokens:{ifKeyword:'if',open:'(',conditional:e,close:')',block:h(j,d('IfCodeBlock')),elseBlock:i(d('ElseIfBlock'))},Handler:function(a,b){var c=a.conditional,d=a.block,e=a.elseBlock;return c.evaluate(b)?d.evaluate(b):e.evaluate(b)}}).addCustom({Alias:'IfCodeBlock',Tokens:{open:'{',statements:f,close:'}'},Handler:function(a,b){var c=a.statements;return g(c,b)}}).addCustom({Alias:'ElseIfBlock',Tokens:{elseKeyword:'else',block:h(d('IfStatement'),d('IfCodeBlock'))},Handler:function(a,b){var c=a.block;return c.evaluate(b)}}).reserve('if','else')}},function(a,b,c){'use strict';var d=c(4),e=c(12);a.exports=function(a){return a.addBinaryExpression({Alias:'Addition',Operator:'+',Handler:function(a,b){var c=a.left,d=a.right;return c.evaluate(b)+d.evaluate(b)}}).addBinaryExpression({Alias:'Subtraction',Operator:'-',Handler:function(a,b){var c=a.left,d=a.right;return c.evaluate(b)-d.evaluate(b)}}).addUnaryExpression({Alias:'Negative',Operator:'-',Handler:function(a,b){var c=a.expression;return-c.evaluate(b)}}).addBinaryExpression({Alias:'Multiplication',Operator:'*',Handler:function(a){var b=a.left,c=a.right;return b.evaluate(context)*c.evaluate(context)}}).addBinaryExpression({Alias:'Division',Operator:'/',Handler:function(a){var b=a.left,c=a.right;return b.evaluate(context)/c.evaluate(context)}}).addBinaryExpression({Alias:'Exponent',Operator:'**',Handler:function(a){var b=a.left,c=a.right;return b.evaluate(context)**c.evaluate(context)}})}},function(a,b,c){'use strict';var d=c(5),e=c(3),f=c(0),h=c(1),i=c(4);a.exports=function(a){return a.addExpression({Alias:'MemberExpression',Tokens:{root:d,path:e(f('MemberExpressionPathItemList'))},Handler:function(a,b){var c=a.root,d=a.path,e=b[c.value];d=d||[];var f,g=!0,h=!1;try{for(var i,j,k=d[Symbol.iterator]();!(g=(i=k.next()).done);g=!0){if(j=i.value,'undefined'==typeof e)throw new Error('Invalid Access at '+JSON.stringify(j.location));e=e[j.evaluate(b)]}}catch(a){h=!0,f=a}finally{try{!g&&k.return&&k.return()}finally{if(h)throw f}}return e}}).addList({Alias:'MemberExpressionPathItemList',Rule:'MemberExpressionPathItem'}).addCustom({Alias:'MemberExpressionPathItem',Tokens:{pathItem:h(f('IdentifierProperty'),f('DynamicProperty'))},Handler:function(a,b){var c=a.pathItem;return c.evaluate(b)}}).addCustom({Alias:'IdentifierProperty',Tokens:{dot:'.',pathItem:d},Handler:function(a){var b=a.pathItem;return b.value}}).addCustom({Alias:'DynamicProperty',Tokens:{openBracket:'[',expressions:i,closeBracket:']'},Handler:function(a,b){var c,d,e=a.expressions,f=!0,g=!1;try{for(var h,i,j=e[Symbol.iterator]();!(f=(h=j.next()).done);f=!0)i=h.value,c=i.evaluate(b)}catch(a){g=!0,d=a}finally{try{!f&&j.return&&j.return()}finally{if(g)throw d}}return c}})}},function(a,b,c){'use strict';function d(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}var e=c(0),f=c(1),g=c(8),h=c(2),i=c(5);a.exports=function(a){return a.addList({Alias:'ObjectExpressionItemList',Rule:'ObjectExpressionItem',Terminator:','}).addCustom({Alias:'ObjectExpressionItem',Tokens:{value:f(e('ObjectSpread'),e('KeyValuePair'))},Handler:function(a,b){var c=a.value;return c.evaluate(b)}}).addCustom({Alias:'ObjectSpread',Tokens:{spreadOperator:'...',value:h},Handler:function(a,b){var c,e=a.value;return c={},d(c,Symbol.for('type'),'spread'),d(c,'value',e.evaluate(b)),c}}).addCustom({Alias:'KeyValuePair',Tokens:{key:i,seperator:':',expression:h},Handler:function(a,b){var c,e=a.key,f=a.expression;return c={},d(c,Symbol.for('type'),'keypair'),d(c,'key',e),d(c,'value',f.evaluate(b)),c}}).addExpression({Alias:'ObjectExpression',Tokens:{openBrace:'{',expressionList:e('ObjectExpressionItemList'),closeBrace:'}'},Handler:function(a,b){var c,d=a.expressionList,e={},f=!0,g=!1;try{for(var h,i=d[Symbol.iterator]();!(f=(h=i.next()).done);f=!0){var j=h.value,k=j.evaluate(b);'spread'===k[Symbol.for('type')]?Object.assign(e,k.value):e[k.key.value]=k.value}}catch(a){g=!0,c=a}finally{try{!f&&i.return&&i.return()}finally{if(g)throw c}}return e}})}},function(a,b,c){'use strict';function d(a){if(Array.isArray(a)){for(var b=0,c=Array(a.length);b<a.length;b++)c[b]=a[b];return c}return Array.from(a)}var e=c(0),f=c(9),h=c(3),i=c(4);a.exports=function(a){return a.addExpression({Alias:'Transform',Tokens:{left:f,operator:'|',right:e('MemberExpression'),parameters:h(e('TransformParameters'))},Handler:function(a,b){var c=a.left,e=a.right,f=a.parameters;return e.evaluate(b).apply(void 0,[c.evaluate(b)].concat(d(f?f.evaluate(b):[])))}}).addCustom({Alias:'TransformParameters',Tokens:{open:'(',expressions:h(i),close:')'},Handler:function(a,b){var c,d=a.expressions,e=[],f=!0,g=!1;try{for(var h,i,j=d[Symbol.iterator]();!(f=(h=j.next()).done);f=!0)i=h.value,e.push(i.evaluate(b))}catch(a){g=!0,c=a}finally{try{!f&&j.return&&j.return()}finally{if(g)throw c}}return e}})}},function(a){'use strict';a.exports=async function(a,b){var c,d=null,e=!0,f=!1;try{for(var g,h,i=a[Symbol.iterator]();!(e=(g=i.next()).done);e=!0)h=g.value,d=await h.evaluate(b)}catch(a){f=!0,c=a}finally{try{!e&&i.return&&i.return()}finally{if(f)throw c}}return d}},function(a){'use strict';var b=function(){function a(a,b){var c,d=[],e=!0,f=!1;try{for(var g,h=a[Symbol.iterator]();!(e=(g=h.next()).done)&&(d.push(g.value),!(b&&d.length===b));e=!0);}catch(a){f=!0,c=a}finally{try{!e&&h['return']&&h['return']()}finally{if(f)throw c}}return d}return function(b,c){if(Array.isArray(b))return b;if(Symbol.iterator in Object(b))return a(b,c);throw new TypeError('Invalid attempt to destructure non-iterable instance')}}();a.exports=async function(a,c){var d,e,f,g=!0,h=!1;try{for(var i,j=a[Symbol.iterator]();!(g=(i=j.next()).done);g=!0){var k=i.value,l=await k.evaluate(c),m=b(l,2);if(d=m[0],e=m[1],'return'===d)return[d,e]}}catch(a){h=!0,f=a}finally{try{!g&&j.return&&j.return()}finally{if(h)throw f}}return[null,e]}},function(a,b,c){'use strict';function d(a,b){if(!(a instanceof b))throw new TypeError('Cannot call a class as a function')}var e=function(){function a(a,b){var c,d=[],e=!0,f=!1;try{for(var g,h=a[Symbol.iterator]();!(e=(g=h.next()).done)&&(d.push(g.value),!(b&&d.length===b));e=!0);}catch(a){f=!0,c=a}finally{try{!e&&h['return']&&h['return']()}finally{if(f)throw c}}return d}return function(b,c){if(Array.isArray(b))return b;if(Symbol.iterator in Object(b))return a(b,c);throw new TypeError('Invalid attempt to destructure non-iterable instance')}}(),f=function(){function a(a,b){for(var c,d=0;d<b.length;d++)c=b[d],c.enumerable=c.enumerable||!1,c.configurable=!0,'value'in c&&(c.writable=!0),Object.defineProperty(a,c.key,c)}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),g=c(0),h=c(9),i=c(13),j=c(8),k=c(14);a.exports=function(){function a(){d(this,a),this.counts={E:-1,S:-1,C:-1,L:-1},this.handler={E:{},S:{},C:{}},this.keywords=[],this.terminator=';',this.grammar=c(31)}return f(a,[{key:'setTerminator',value:function(a){return this.terminator=a,this}},{key:'addBinaryExpression',value:function(a){return this.addRule({Alias:a.Alias,Tokens:{left:a.Left||h,operator:j(a.Operator),right:a.Right||i},Type:'E',Handler:a.Handler})}},{key:'addUnaryExpression',value:function(a){return this.addRule({Alias:a.Alias,Tokens:'right'===a.Type?{expression:a.Expression||h,operator:j(a.Operator)}:{operator:j(a.Operator),expression:a.Expression||i},Type:'E',Handler:a.Handler})}},{key:'addExpression',value:function(a){var b=a.Alias,c=a.Tokens,d=a.Handler;return this.addRule({Alias:b,Tokens:c,Type:'E',Handler:d})}},{key:'addStatement',value:function(a){var b=a.Alias,c=a.Tokens,d=a.Handler;return this.addRule({Alias:b,Tokens:c,Type:'S',Handler:d})}},{key:'addCustom',value:function(a){var b=a.Alias,c=a.Tokens,d=a.Handler;return this.addRule({Alias:b,Tokens:c,Type:'C',Handler:d})}},{key:'addRule',value:function(a){var b=a.Alias,c=a.Tokens,d=a.Type,e=a.Handler;console.log('adding',b),this.counts[d]+=1;var f=''+d+this.counts[d];this.handler[d][f]=e;var g=''+d+(this.counts[d]+1);return this.grammar+='\n'+(b?b+' = '+f+'\n':'')+f+' = '+this.spliceTokens(c,g,f)+' {\n  return {\n    alias: "'+b+'",\n    nodeType: "'+d+'",\n    type: "'+f+'",\n    evaluate,\n    props: { '+Object.getOwnPropertyNames(c).join(', ')+' },\n    text: text(),\n    location: location()\n  };\n} '+('S'===d||'E'===d?'/ '+g:'')+'\n',this}},{key:'addList',value:function(a){this.counts.L+=1;var b='L'+this.counts.L,c=a.Terminator?'_ "'+a.Terminator.replace(/"/g,'\\"')+'" ':'';return this.grammar+='\n'+b+' = '+a.Rule+'\n'+a.Alias+' = first:'+b+' last:('+c+' _ '+b+')* '+(a.Terminator?c+'?':'')+' {\n  return [first, ...last.map(x => x['+(a.Terminator?3:1)+'])];\n}\n',this}},{key:'spliceTokens',value:function(a,b,c){for(var d='',f=Object.entries(a),g=0;g<f.length;g++){var h=e(f[g],2),i=h[0],k=h[1];d+=(k.constructor===String?j(k):k).generate(i,b,c).toString()}return d}},{key:'reserve',value:function(){var a;return(a=this.keywords).push.apply(a,arguments),this}},{key:'generate',value:function(){return this.grammar+='\n\nE'+(this.counts.E+1)+' = ExpressionExit\nS'+(this.counts.S+1)+' = StatementExit\n\n'+(this.keywords.length?'Keyword = ('+this.keywords.map(function(a){return'"'+a.replace(/"/g,'\\"')+'"'}).join(' / ')+')':'Keyword = "1"')+' \nTerminator = "'+this.terminator+'"\n',new k(this.grammar,this.handler)}}]),a}()},function(b){b.exports=a},function(a){if('undefined'==typeof b){var c=new Error('Cannot find module "fs"');throw c.code='MODULE_NOT_FOUND',c}a.exports=b},function(a){a.exports='{\r\n  const { handler } = this;\r\n\r\n  function evaluate(context) {\r\n    return handler[this.nodeType][this.type](this.props, context);\r\n  }\r\n  handler.S.SExpressionStatement = function SExpressionStatement({ expressions }, context) {\r\n    let value;\r\n    for(const expression of expressions) {\r\n      value = expression.evaluate(context);\r\n    }\r\n    return [null, value];\r\n  };\r\n  handler.E.EReturnValue = function EReturnValue({ value }) { return value; }\r\n}\r\n\r\nProgram = _ statements:StatementList _ {\r\n  return statements;\r\n}\r\n\r\nStatementList = first:Statement last:(_ Statement)* {\r\n  return [first, ...last.map(x => x[1])];\r\n}\r\nExpressionList = first:Expression last:(_ \',\' _ Expression)* {\r\n  return [first, ...last.map(x => x[3])];\r\n}\r\nIdentifier = !Keyword [a-zA-Z$_][a-zA-Z$_0-9]* {\r\n  return {\r\n    nodeType: \'I\',\r\n    type: \'Identifier\',\r\n    value: text(),\r\n    text: text(),\r\n    location: location()\r\n  };\r\n}\r\nIdentifierList = first:Identifier last:(_ "," _ Identifier) {\r\n  return [first, ...last.map(x => x[3])];\r\n}\r\n\r\nStatement = S0\r\nExpression = E0\r\n\r\nExpressionExit = Float\r\n\r\nFloat = [0-9]+ "." [0-9]+ {\r\n  return {\r\n    nodeType: \'E\',\r\n    type: \'EReturnValue\',\r\n    evaluate,\r\n    props: {\r\n      value: parseFloat(text()),\r\n    },\r\n    text: text(),\r\n    location: location()\r\n  };\r\n} / Integer\r\n\r\nInteger = [0-9]+ {\r\n  return {\r\n    nodeType: \'E\',\r\n    type: \'EReturnValue\',\r\n    evaluate,\r\n    props: {\r\n      value: parseInt(text(), 10),\r\n    },\r\n    text: text(),\r\n    location: location()\r\n  };\r\n} / Null\r\n\r\nNull = "null" {\r\n  return {\r\n    nodeType: \'E\',\r\n    type: \'EReturnValue\',\r\n    evaluate,\r\n    props: {\r\n      value: null,\r\n    },\r\n    text: text(),\r\n    location: location()\r\n  };\r\n}\r\n\r\nStatementExit = ExpressionStatement\r\n\r\nExpressionStatement = expressions:ExpressionList _ Terminator? {\r\n  return {\r\n    alias: \'ExpressionStatement\',\r\n    nodeType: "S",\r\n    type: \'SExpressionStatement\',\r\n    evaluate,\r\n    props: { expressions },\r\n    text: text(),\r\n    location: location()\r\n  };\r\n}\r\n\r\n_ = [\\t\\r\\n ]*\r\n__ = [\\t\\r\\n ]+'},function(a){'use strict';a.exports={Type:'Integer',generate:function(a){return{value:' '+a+':[0-9]+',toString:function(){return this.value+' _'}}}}},function(a){'use strict';a.exports={Type:'RequiredWhitespace',generate:function(){return{toString:function(){return'_'}}}}}])});